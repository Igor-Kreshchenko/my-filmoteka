(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{Gltq:function(e,n,t){var l=t("mp5j");e.exports=(l.default||l).template({1:function(e,n,t,l,o){var a,r=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,c="function",s=e.escapeExpression,u=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<li class="movies__list-item">\r\n    <img class="movie__poster" src="https://image.tmdb.org/t/p/w300'+s(typeof(a=null!=(a=u(t,"poster_path")||(null!=n?u(n,"poster_path"):n))?a:i)===c?a.call(r,{name:"poster_path",hash:{},data:o,loc:{start:{line:3,column:67},end:{line:3,column:82}}}):a)+'" alt="'+s(typeof(a=null!=(a=u(t,"title")||(null!=n?u(n,"title"):n))?a:i)===c?a.call(r,{name:"title",hash:{},data:o,loc:{start:{line:3,column:89},end:{line:3,column:98}}}):a)+' poster" id="'+s(typeof(a=null!=(a=u(t,"id")||(null!=n?u(n,"id"):n))?a:i)===c?a.call(r,{name:"id",hash:{},data:o,loc:{start:{line:3,column:111},end:{line:3,column:117}}}):a)+'"\r\n        loading="lazy" width="300" height="450">\r\n\r\n    <h2 class="movie__name">'+s(typeof(a=null!=(a=u(t,"original_title")||(null!=n?u(n,"original_title"):n))?a:i)===c?a.call(r,{name:"original_title",hash:{},data:o,loc:{start:{line:6,column:28},end:{line:6,column:46}}}):a)+'</h2>\r\n    <p class="movie__genre">'+s(typeof(a=null!=(a=u(t,"genre_ids")||(null!=n?u(n,"genre_ids"):n))?a:i)===c?a.call(r,{name:"genre_ids",hash:{},data:o,loc:{start:{line:7,column:28},end:{line:7,column:41}}}):a)+" | "+s(typeof(a=null!=(a=u(t,"release_date")||(null!=n?u(n,"release_date"):n))?a:i)===c?a.call(r,{name:"release_date",hash:{},data:o,loc:{start:{line:7,column:44},end:{line:7,column:60}}}):a)+"</p>\r\n</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,l,o){var a;return null!=(a=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:9,column:9}}}))?a:""},useData:!0})},L1EO:function(e,n,t){},QfWi:function(e,n,t){"use strict";t.r(n);t("L1EO");var l={searchFormRef:document.querySelector(".search-form"),searchInputRef:document.querySelector(".search-input"),searchBtnRef:document.querySelector(".search-btn"),moviesRef:document.querySelector(".movies"),loadMoreBtnRef:document.querySelector('[data-action="load-more"]'),modalRef:document.querySelector(".modal-wrapper"),closeBtnRef:document.querySelector(".modal-close-btn"),paginationList:document.querySelector(".pagination")};t("JBxO"),t("FdtR");function o(e,n){for(var t=0;t<n.length;t++){var l=n[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}var a="4ee9f3c9031692c2042b06be7b52de80",r="https://api.themoviedb.org/3",i=function(){function e(){this.searchQuery="",this.page=1,this.totalPages=1}var n,t,l,i=e.prototype;return i.fetchMovies=function(e){var n=this;return fetch(e).then((function(e){if(!e.ok)throw new Error;return e.json()})).then((function(e){var t=e.results,l=e.total_pages;return n.totalPages=l,t})).catch(console.log)},i.fetchTrendingMovies=function(e){return void 0===e&&(e=1),this.page=e,this.fetchMovies(r+"/trending/all/week?api_key="+a+"&page="+this.page)},i.fetchSearchMovies=function(e){return void 0===e&&(e=1),this.page=e,this.fetchMovies(r+"/search/movie?api_key="+a+"&query="+this.searchQuery+"&page="+this.page+"&include_adult=false")},i.fetchGenresList=function(){return fetch(r+"/genre/movie/list?api_key="+a).then((function(e){if(!e.ok)throw new Error;return e.json()})).catch(console.log)},i.fetchMovieById=function(e){return fetch(r+"/movie/"+e+"?api_key="+a).then((function(e){if(!e.ok)throw new Error;return e.json()})).catch(console.log)},i.incrementPage=function(){this.page+=1},i.decrementPage=function(){this.page<=0||(this.page-=1)},i.resetPage=function(){this.page=1},n=e,(t=[{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}},{key:"numberOfPages",get:function(){return this.totalPages},set:function(e){this.totalPages=e}}])&&o(n.prototype,t),l&&o(n,l),e}(),c=t("Gltq"),s=t.n(c),u=t("tfrt"),h=t.n(u);l.searchFormRef.addEventListener("submit",(function(e){e.preventDefault(),m.query=e.currentTarget.elements.query.value,m.resetPage(),m.fetchSearchMovies().then((function(e){l.moviesRef.innerHTML="",d(e)}))})),l.loadMoreBtnRef.addEventListener("click",(function(){m.fetchSearchMovies().then(d)})),l.moviesRef.addEventListener("click",(function(e){document.body.classList.add("show-modal"),l.closeBtnRef.addEventListener("click",p),n=e.target.id,m.fetchMovieById(n).then(h.a).then((function(e){l.modalRef.innerHTML=e}));var n}));var m=new i;function d(e){l.moviesRef.innerHTML=s()(e),console.log(m.numberOfPages)}function p(){document.body.classList.remove("show-modal"),l.modalRef.innerHTML=""}m.fetchTrendingMovies().then(d),l.paginationList.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;var n=e.target.dataset.index;m.fetchTrendingMovies(n).then(d)}))},tfrt:function(e,n,t){var l=t("mp5j");e.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,l,o){var a,r=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,c="function",s=e.escapeExpression,u=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<div class="movie-card">\r\n\r\n    <img src="https://image.tmdb.org/t/p/w400'+s(typeof(a=null!=(a=u(t,"poster_path")||(null!=n?u(n,"poster_path"):n))?a:i)===c?a.call(r,{name:"poster_path",hash:{},data:o,loc:{start:{line:3,column:45},end:{line:3,column:60}}}):a)+'" alt="Movie Poster" class="movie-card__poster" />\r\n\r\n    <div class="wrapper">\r\n        <h2 class="movie-card__title">'+s(typeof(a=null!=(a=u(t,"title")||(null!=n?u(n,"title"):n))?a:i)===c?a.call(r,{name:"title",hash:{},data:o,loc:{start:{line:6,column:38},end:{line:6,column:47}}}):a)+'</h2>\r\n        <ul class="movie-card__info">\r\n            <li class="movie-card__info--item">\r\n                <h3 class="movie-card__info--title">Vote / Votes</h3>\r\n                <p class="movie-card__content--item"><span class="movie-card__vote">'+s(typeof(a=null!=(a=u(t,"vote_average")||(null!=n?u(n,"vote_average"):n))?a:i)===c?a.call(r,{name:"vote_average",hash:{},data:o,loc:{start:{line:10,column:84},end:{line:10,column:100}}}):a)+"</span> /\r\n                    "+s(typeof(a=null!=(a=u(t,"vote_count")||(null!=n?u(n,"vote_count"):n))?a:i)===c?a.call(r,{name:"vote_count",hash:{},data:o,loc:{start:{line:11,column:20},end:{line:11,column:34}}}):a)+'</p>\r\n            </li>\r\n            <li class="movie-card__info--item">\r\n                <h3 class="movie-card__info--title">Popularity</h3>\r\n                <p class="movie-card__content--item">'+s(typeof(a=null!=(a=u(t,"popularity")||(null!=n?u(n,"popularity"):n))?a:i)===c?a.call(r,{name:"popularity",hash:{},data:o,loc:{start:{line:15,column:53},end:{line:15,column:67}}}):a)+'</p>\r\n            </li>\r\n            <li class="movie-card__info--item">\r\n                <h3 class="movie-card__info--title">Original Title</h3>\r\n                <p class="movie-card__content--item">'+s(typeof(a=null!=(a=u(t,"original_title")||(null!=n?u(n,"original_title"):n))?a:i)===c?a.call(r,{name:"original_title",hash:{},data:o,loc:{start:{line:19,column:53},end:{line:19,column:71}}}):a)+'</p>\r\n            </li>\r\n            <li class="movie-card__info--item">\r\n                <h3 class="movie-card__info--title">Genre</h3>\r\n                <p class="movie-card__content--item">'+s(typeof(a=null!=(a=u(t,"genres")||(null!=n?u(n,"genres"):n))?a:i)===c?a.call(r,{name:"genres",hash:{},data:o,loc:{start:{line:23,column:53},end:{line:23,column:63}}}):a)+'</p>\r\n        </ul>\r\n\r\n        <h3 class="movie-card__about">About</h3>\r\n        <div class="movie-card__about--content">'+s(typeof(a=null!=(a=u(t,"overview")||(null!=n?u(n,"overview"):n))?a:i)===c?a.call(r,{name:"overview",hash:{},data:o,loc:{start:{line:27,column:48},end:{line:27,column:60}}}):a)+"</div>\r\n    </div>\r\n</div>"},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.31b0e300f03ff64f6d01.js.map